{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useEffect } from 'react';\nvar api = axios.create({\n  baseURL: \"http://192.168.15.4:8000/api\",\n  responseType: 'json'\n});\nvar getData = function () {\n  var _ref = _asyncToGenerator(function* () {\n    try {\n      var token = yield AsyncStorage.getItem('@token');\n      if (token !== null && token != \"\") {\n        api.interceptors.request.use(function () {\n          var _ref2 = _asyncToGenerator(function* (config) {\n            api.defaults.headers.authorization = \"Bearer \" + token;\n            return config;\n          });\n          return function (_x) {\n            return _ref2.apply(this, arguments);\n          };\n        }());\n      }\n    } catch (e) {}\n  });\n  return function getData() {\n    return _ref.apply(this, arguments);\n  };\n}();\nuseEffect(function () {\n  getData();\n}, []);\nexport default api;","map":{"version":3,"names":["axios","AsyncStorage","useEffect","api","create","baseURL","responseType","getData","token","getItem","interceptors","request","use","config","defaults","headers","authorization","e"],"sources":["/app/src/services/api.jsx"],"sourcesContent":["import axios from \"axios\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport {useEffect} from 'react';\n\nconst api = axios.create({\n  baseURL: \"http://192.168.15.4:8000/api\",\n  responseType: 'json'\n});\n\n// const token = await AsyncStorage.getItem('@token')\n\nconst getData = async () => {\n  try {\n    const token = await AsyncStorage.getItem('@token')\n    if(token !== null && token != \"\") {\n      api.interceptors.request.use(async config => {\n\n\n        // if (token) {\n          api.defaults.headers.authorization = `Bearer ${token}`\n        // }\n      \n        return config;\n      });\n    }\n  } catch(e) {\n    // error reading value\n  }\n}\n\n\nuseEffect(() => {\n  getData();\n}, []);\n\n\nexport default api;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,2CAA2C;AACpE,SAAQC,SAAS,QAAO,OAAO;AAE/B,IAAMC,GAAG,GAAGH,KAAK,CAACI,MAAM,CAAC;EACvBC,OAAO,EAAE,8BAA8B;EACvCC,YAAY,EAAE;AAChB,CAAC,CAAC;AAIF,IAAMC,OAAO;EAAA,6BAAG,aAAY;IAC1B,IAAI;MACF,IAAMC,KAAK,SAASP,YAAY,CAACQ,OAAO,CAAC,QAAQ,CAAC;MAClD,IAAGD,KAAK,KAAK,IAAI,IAAIA,KAAK,IAAI,EAAE,EAAE;QAChCL,GAAG,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG;UAAA,8BAAC,WAAMC,MAAM,EAAI;YAIzCV,GAAG,CAACW,QAAQ,CAACC,OAAO,CAACC,aAAa,eAAaR,KAAO;YAGxD,OAAOK,MAAM;UACf,CAAC;UAAA;YAAA;UAAA;QAAA,IAAC;MACJ;IACF,CAAC,CAAC,OAAMI,CAAC,EAAE,CAEX;EACF,CAAC;EAAA,gBAjBKV,OAAO;IAAA;EAAA;AAAA,GAiBZ;AAGDL,SAAS,CAAC,YAAM;EACdK,OAAO,EAAE;AACX,CAAC,EAAE,EAAE,CAAC;AAGN,eAAeJ,GAAG"},"metadata":{},"sourceType":"module"}