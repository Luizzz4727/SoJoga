{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport api from \"../../services/api\";\nimport { useNavigation } from '@react-navigation/native';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default function TesteAPI() {\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    user = _useState2[0],\n    setUser = _useState2[1];\n  var navigation = useNavigation();\n  useEffect(function () {\n    var getUser = function () {\n      var _ref = _asyncToGenerator(function* () {\n        try {\n          var userData = yield AsynStorage.getItem(\"@token\");\n          console.error(userData);\n          api.get(\"/\", {\n            headers: {\n              'Authorization': \"token \" + userData\n            }\n          }).then(function (response) {\n            return setUser(response.data);\n          }).catch(function (err) {\n            console.error(\"ops! ocorreu um erro\" + err);\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      });\n      return function getUser() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    getUser();\n  }, []);\n  return _jsx(View, {\n    children: _jsxs(Text, {\n      children: [\"Usu\\xE1rio: \", user == null ? void 0 : user.status]\n    })\n  });\n}","map":{"version":3,"names":["React","useEffect","useState","api","useNavigation","TesteAPI","user","setUser","navigation","getUser","userData","AsynStorage","getItem","console","error","get","headers","then","response","data","catch","err","log","status"],"sources":["/app/src/pages/TesteAPI/index.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {View, Image, ImageBackground, StyleSheet, Text, TextInput, Alert} from 'react-native'; \nimport api from \"../../services/api\";\nimport {useNavigation} from '@react-navigation/native'; \n\nexport default function TesteAPI() {\n  const [user, setUser] = useState();\n\n  const navigation = useNavigation(); \n\n  useEffect(() => {\n\n    const getUser = async () => {\n      try {\n        const userData = await AsynStorage.getItem(\"@token\")\n\n        console.error(userData);\n\n        api\n        .get(\"/\", {\n          headers: {\n            'Authorization': `token ${userData}`\n          }\n        })\n        .then((response) => setUser(response.data))\n        .catch((err) => {\n          console.error(\"ops! ocorreu um erro\" + err);\n        });\n\n      } catch (error) {\n       console.log(error); \n      }\n    };\n\n    getUser();\n\n    \n  }, []);\n\n  return (\n    <View>\n      <Text>Usu√°rio: {user?.status}</Text>\n    </View>\n  );\n}\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEnD,OAAOC,GAAG;AACV,SAAQC,aAAa,QAAO,0BAA0B;AAAC;AAAA;AAEvD,eAAe,SAASC,QAAQ,GAAG;EACjC,gBAAwBH,QAAQ,EAAE;IAAA;IAA3BI,IAAI;IAAEC,OAAO;EAEpB,IAAMC,UAAU,GAAGJ,aAAa,EAAE;EAElCH,SAAS,CAAC,YAAM;IAEd,IAAMQ,OAAO;MAAA,6BAAG,aAAY;QAC1B,IAAI;UACF,IAAMC,QAAQ,SAASC,WAAW,CAACC,OAAO,CAAC,QAAQ,CAAC;UAEpDC,OAAO,CAACC,KAAK,CAACJ,QAAQ,CAAC;UAEvBP,GAAG,CACFY,GAAG,CAAC,GAAG,EAAE;YACRC,OAAO,EAAE;cACP,eAAe,aAAWN;YAC5B;UACF,CAAC,CAAC,CACDO,IAAI,CAAC,UAACC,QAAQ;YAAA,OAAKX,OAAO,CAACW,QAAQ,CAACC,IAAI,CAAC;UAAA,EAAC,CAC1CC,KAAK,CAAC,UAACC,GAAG,EAAK;YACdR,OAAO,CAACC,KAAK,CAAC,sBAAsB,GAAGO,GAAG,CAAC;UAC7C,CAAC,CAAC;QAEJ,CAAC,CAAC,OAAOP,KAAK,EAAE;UACfD,OAAO,CAACS,GAAG,CAACR,KAAK,CAAC;QACnB;MACF,CAAC;MAAA,gBApBKL,OAAO;QAAA;MAAA;IAAA,GAoBZ;IAEDA,OAAO,EAAE;EAGX,CAAC,EAAE,EAAE,CAAC;EAEN,OACE,KAAC,IAAI;IAAA,UACH,MAAC,IAAI;MAAA,2BAAWH,IAAI,oBAAJA,IAAI,CAAEiB,MAAM;IAAA;EAAQ,EAC/B;AAEX"},"metadata":{},"sourceType":"module"}