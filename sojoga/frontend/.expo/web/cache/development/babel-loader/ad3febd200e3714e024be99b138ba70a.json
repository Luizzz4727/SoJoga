{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from \"axios\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { useEffect } from 'react';\nvar api = axios.create({\n  baseURL: \"http://192.168.0.20:8000/api\",\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json'\n  }\n});\napi.interceptors.request.use(function () {\n  var _ref = _asyncToGenerator(function* (config) {\n    var token = yield AsyncStorage.getItem('@token');\n    console.log('token', token);\n    if (token) {\n      config.headers.Authorization = \"Bearer \" + token;\n    }\n    console.log('asdadsa', config);\n    return config;\n  });\n  return function (_x) {\n    return _ref.apply(this, arguments);\n  };\n}(), function (error) {\n  return Promise.reject(error);\n});\nexport default api;","map":{"version":3,"names":["axios","AsyncStorage","useEffect","api","create","baseURL","headers","Accept","interceptors","request","use","config","token","getItem","console","log","Authorization","error","Promise","reject"],"sources":["/app/src/services/api.jsx"],"sourcesContent":["import axios from \"axios\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport {useEffect} from 'react';\n\nconst api = axios.create({\n  baseURL: \"http://192.168.0.20:8000/api\",\n  headers: {\n    'Content-Type': 'application/json',\n    Accept: 'application/json',\n  },\n});\n\napi.interceptors.request.use(\n  async config => {\n    const token = await AsyncStorage.getItem('@token')\n\n    console.log('token',token)\n    if (token) {\n      config.headers.Authorization = \"Bearer \"+token\n    }\n\n    console.log('asdadsa', config)\n    return config\n  },\n  error => {\n    return Promise.reject(error)\n  }\n);\n\n// const token = await AsyncStorage.getItem('@token')\n\n// const getData = async () => {\n//   try {\n//     const token = await AsyncStorage.getItem('@token')\n//     console.error(token)\n//   } catch(e) {\n//     // error reading value\n//   }\n// }\n\n// console.error(getData)\n\n// getMyStringValue = async () => {\n//   try {\n//     return await AsyncStorage.getItem('@token')\n//   } catch(e) {\n//     // read error\n//   }\n\n// }\n\n// api.interceptors.request.use(async config => {\n//   // Declaramos um token manualmente para teste.\n//   const token = getMyStringValue;\n\n//   console.error(token)\n\n//   if (token) {\n//     api.defaults.headers.authorization = `Bearer ${token}`;\n//   }\n\n//   return config;\n// });\n\n\n\n\nexport default api;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,YAAY,MAAM,2CAA2C;AACpE,SAAQC,SAAS,QAAO,OAAO;AAE/B,IAAMC,GAAG,GAAGH,KAAK,CAACI,MAAM,CAAC;EACvBC,OAAO,EAAE,8BAA8B;EACvCC,OAAO,EAAE;IACP,cAAc,EAAE,kBAAkB;IAClCC,MAAM,EAAE;EACV;AACF,CAAC,CAAC;AAEFJ,GAAG,CAACK,YAAY,CAACC,OAAO,CAACC,GAAG;EAAA,6BAC1B,WAAMC,MAAM,EAAI;IACd,IAAMC,KAAK,SAASX,YAAY,CAACY,OAAO,CAAC,QAAQ,CAAC;IAElDC,OAAO,CAACC,GAAG,CAAC,OAAO,EAACH,KAAK,CAAC;IAC1B,IAAIA,KAAK,EAAE;MACTD,MAAM,CAACL,OAAO,CAACU,aAAa,GAAG,SAAS,GAACJ,KAAK;IAChD;IAEAE,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEJ,MAAM,CAAC;IAC9B,OAAOA,MAAM;EACf,CAAC;EAAA;IAAA;EAAA;AAAA,KACD,UAAAM,KAAK,EAAI;EACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CAAC,CACF;AAwCD,eAAed,GAAG"},"metadata":{},"sourceType":"module"}